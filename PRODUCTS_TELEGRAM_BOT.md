# üõçÔ∏è –ü—Ä–æ–¥—É–∫—Ç—ã –≤ —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–µ

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### üì± **–ö—Ä–∞—Å–∏–≤–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤**

- ‚úÖ **–§–æ—Ç–æ —Ç–æ–≤–∞—Ä–∞** - –ø–µ—Ä–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ photoUrl (JSON –∏–ª–∏ –æ–¥–∏–Ω–æ—á–Ω—ã–π URL)
- ‚úÖ **–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞** —Å —Å—á–µ—Ç—á–∏–∫–æ–º "(1/3)" –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–∞—Ö
- ‚úÖ **–°—á–µ—Ç—á–∏–∫ —Ñ–æ—Ç–æ** "üì∏ –§–æ—Ç–æ 2/5" –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö
- ‚úÖ **–¶–µ–Ω–∞** —Å –∫—Ä–∞—Å–∏–≤—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ **–û–ø–∏—Å–∞–Ω–∏–µ** —Ç–æ–≤–∞—Ä–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é
- ‚úÖ **–ë–µ–∑ –∫–Ω–æ–ø–æ–∫ –ø–æ–∫—É–ø–∫–∏** - —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä

### üéÆ **–ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**

- ‚úÖ **–ü–µ—Ä–µ–ª–∏—Å—Ç—ã–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤** - –∫–Ω–æ–ø–∫–∏ "‚¨ÖÔ∏è –¢–æ–≤–∞—Ä" / "–¢–æ–≤–∞—Ä ‚û°Ô∏è"
- ‚úÖ **–ü–µ—Ä–µ–ª–∏—Å—Ç—ã–≤–∞–Ω–∏–µ —Ñ–æ—Ç–æ** - –∫–Ω–æ–ø–∫–∏ "‚¨ÖÔ∏è –§–æ—Ç–æ" / "–§–æ—Ç–æ ‚û°Ô∏è"
- ‚úÖ **–£–º–Ω—ã–µ –∫–Ω–æ–ø–∫–∏** - –ø–æ—è–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ
- ‚úÖ **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π** - –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è, —Ç–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- ‚úÖ **–ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é"** - –≤–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

### üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è**

- ‚úÖ **editMessageMedia()** - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ç–æ + –ø–æ–¥–ø–∏—Å–∏ + –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- ‚úÖ **JSON –ø–∞—Ä—Å–∏–Ω–≥** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö URL –≤ photoUrl
- ‚úÖ **–°–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Ç–æ–≤–∞—Ä–∞ –∏ —Ñ–æ—Ç–æ
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - fallback –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω–æ–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

## üé® –ü—Ä–∏–º–µ—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

### –¢–æ–≤–∞—Ä —Å –æ–¥–Ω–∏–º —Ñ–æ—Ç–æ:
```
üõçÔ∏è –ü—Ä–æ—Ç–µ–∏–Ω–æ–≤—ã–π –∫–æ–∫—Ç–µ–π–ª—å (2/5)

üí∞ –¶–µ–Ω–∞: 1500 ‚ÇΩ

–í—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–æ—Ç–µ–∏–Ω–æ–≤—ã–π –∫–æ–∫—Ç–µ–π–ª—å 
–¥–ª—è –Ω–∞–±–æ—Ä–∞ –º—ã—à–µ—á–Ω–æ–π –º–∞—Å—Å—ã. –°–æ–¥–µ—Ä–∂–∏—Ç 
25–≥ –±–µ–ª–∫–∞ –Ω–∞ –ø–æ—Ä—Ü–∏—é.

[‚¨ÖÔ∏è –¢–æ–≤–∞—Ä] [–¢–æ–≤–∞—Ä ‚û°Ô∏è]
[üîô –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é]
```

### –¢–æ–≤–∞—Ä —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ñ–æ—Ç–æ:
```
üõçÔ∏è –°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è —Ñ–æ—Ä–º–∞ (1/3)
üì∏ –§–æ—Ç–æ 2/4

üí∞ –¶–µ–Ω–∞: 3500 ‚ÇΩ

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–ø–æ—Ä—Ç–∏–≤–Ω–∞—è —Ñ–æ—Ä–º–∞ –∏–∑ 
–¥—ã—à–∞—â–∏—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤. –î–æ—Å—Ç—É–ø–Ω—ã —Ä–∞–∑–Ω—ã–µ 
—Ä–∞–∑–º–µ—Ä—ã –∏ —Ü–≤–µ—Ç–∞.

[‚¨ÖÔ∏è –§–æ—Ç–æ] [–§–æ—Ç–æ ‚û°Ô∏è]
[‚¨ÖÔ∏è –¢–æ–≤–∞—Ä] [–¢–æ–≤–∞—Ä ‚û°Ô∏è]
[üîô –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é]
```

### –¢–æ–≤–∞—Ä –±–µ–∑ —Ñ–æ—Ç–æ:
```
üõçÔ∏è –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞

üí∞ –¶–µ–Ω–∞: 2000 ‚ÇΩ

–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Å –æ–ø—ã—Ç–Ω—ã–º 
—Ç—Ä–µ–Ω–µ—Ä–æ–º. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–¥–±–∏—Ä–∞–µ—Ç—Å—è –ø–æ–¥ 
–≤–∞—à–∏ —Ü–µ–ª–∏ –∏ —É—Ä–æ–≤–µ–Ω—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏.

[‚¨ÖÔ∏è –¢–æ–≤–∞—Ä] [–¢–æ–≤–∞—Ä ‚û°Ô∏è]
[üîô –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é]
```

## üéØ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "üõçÔ∏è –ü—Ä–æ–¥—É–∫—Ç—ã":
1. –°–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –∏–Ω–¥–µ–∫—Å—ã —Ç–æ–≤–∞—Ä–∞ –∏ —Ñ–æ—Ç–æ –Ω–∞ 0
2. –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π —Ç–æ–≤–∞—Ä —Å –ø–µ—Ä–≤—ã–º —Ñ–æ—Ç–æ
3. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤:
1. –ò–Ω–¥–µ–∫—Å —Ñ–æ—Ç–æ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ 0 (–ø–µ—Ä–≤–æ–µ —Ñ–æ—Ç–æ –Ω–æ–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞)
2. –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –Ω–æ–≤—ã–º —Ç–æ–≤–∞—Ä–æ–º
3. –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ñ–æ—Ç–æ:
1. –¢–æ–≤–∞—Ä –æ—Å—Ç–∞–µ—Ç—Å—è —Ç–æ—Ç –∂–µ
2. –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ —Å—á–µ—Ç—á–∏–∫ —Ñ–æ—Ç–æ
3. –ö–Ω–æ–ø–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### photoUrl –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:
```json
// –û–¥–Ω–æ —Ñ–æ—Ç–æ (—Å—Ç—Ä–æ–∫–∞)
"https://example.com/photo.jpg"

// –ù–µ—Å–∫–æ–ª—å–∫–æ —Ñ–æ—Ç–æ (JSON –º–∞—Å—Å–∏–≤)
["https://example.com/photo1.jpg", "https://example.com/photo2.jpg", "https://example.com/photo3.jpg"]
```

### –°–æ—Å—Ç–æ—è–Ω–∏–µ –±–æ—Ç–∞:
```typescript
productsPage: Map<number, number>      // chatId -> currentProductIndex
productPhotoPage: Map<number, number>  // chatId -> currentPhotoIndex
```

## üéÆ –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### –õ–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–Ω–æ–ø–æ–∫:

| –£—Å–ª–æ–≤–∏–µ | –ö–Ω–æ–ø–∫–∏ —Ñ–æ—Ç–æ | –ö–Ω–æ–ø–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ |
|---------|-------------|----------------|
| 1 —Ç–æ–≤–∞—Ä, 1 —Ñ–æ—Ç–æ | - | - |
| 1 —Ç–æ–≤–∞—Ä, –º–Ω–æ–≥–æ —Ñ–æ—Ç–æ | ‚¨ÖÔ∏è –§–æ—Ç–æ / –§–æ—Ç–æ ‚û°Ô∏è | - |
| –ú–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤, 1 —Ñ–æ—Ç–æ | - | ‚¨ÖÔ∏è –¢–æ–≤–∞—Ä / –¢–æ–≤–∞—Ä ‚û°Ô∏è |
| –ú–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤, –º–Ω–æ–≥–æ —Ñ–æ—Ç–æ | ‚¨ÖÔ∏è –§–æ—Ç–æ / –§–æ—Ç–æ ‚û°Ô∏è | ‚¨ÖÔ∏è –¢–æ–≤–∞—Ä / –¢–æ–≤–∞—Ä ‚û°Ô∏è |

### Callback –¥–∞–Ω–Ω—ã–µ:
- `products_prev` - –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ç–æ–≤–∞—Ä
- `products_next` - —Å–ª–µ–¥—É—é—â–∏–π —Ç–æ–≤–∞—Ä  
- `product_photo_prev` - –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Ñ–æ—Ç–æ
- `product_photo_next` - —Å–ª–µ–¥—É—é—â–µ–µ —Ñ–æ—Ç–æ
- `back_to_menu` - –Ω–∞–∑–∞–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã** —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ —Ñ–æ—Ç–æ:
   - –¢–æ–≤–∞—Ä –±–µ–∑ —Ñ–æ—Ç–æ
   - –¢–æ–≤–∞—Ä —Å –æ–¥–Ω–∏–º —Ñ–æ—Ç–æ
   - –¢–æ–≤–∞—Ä —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ñ–æ—Ç–æ (JSON –º–∞—Å—Å–∏–≤ –≤ photoUrl)

2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—é:**
   - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ç–æ–≤–∞—Ä–∞–º–∏
   - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ñ–æ—Ç–æ –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
   - –í–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –°–æ–æ–±—â–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è, –∞ –Ω–µ —É–¥–∞–ª—è—Ç—å—Å—è
   - –§–æ—Ç–æ –¥–æ–ª–∂–Ω–æ –º–µ–Ω—è—Ç—å—Å—è –ø–ª–∞–≤–Ω–æ
   - –ö–Ω–æ–ø–∫–∏ –¥–æ–ª–∂–Ω—ã –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üé® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –¥–∏–∑–∞–π–Ω–∞

- **–≠–º–æ–¥–∑–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:** üõçÔ∏è –¥–ª—è —Ç–æ–≤–∞—Ä–∞, üì∏ –¥–ª—è —Ñ–æ—Ç–æ, üí∞ –¥–ª—è —Ü–µ–Ω—ã
- **–°—á–µ—Ç—á–∏–∫–∏:** "(2/5)" –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤, "–§–æ—Ç–æ 3/7" –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **Markdown —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –∂–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏–π –∏ —Ü–µ–Ω—ã
- **–õ–æ–≥–∏—á–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è:** —Ñ–æ—Ç–æ —Å–≤–µ—Ä—Ö—É, —Ç–æ–≤–∞—Ä—ã —Å–Ω–∏–∑—É
- **–ú–∏–Ω–∏–º–∞–ª–∏–∑–º:** —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–Ω–æ–ø–∫–∏

–ì–æ—Ç–æ–≤–æ! üéâ
